<html>
<head>
    <title>Tttrio - a fast real-time multiplayer pattern-matching game to hone your logical skills</title>
    <meta name="description" content="Play Tttrio free now. Face off against friends, family, and strangers in a skill-based game of quick perception and pattern matching. Find trios of cards to score points and win.">

  <link type="text/css" rel="stylesheet" href="/css/nurd.css" />
  <script type="text/javascript" src="/js/lib/jquery-1.4.3.js" ></script>
  <script type="text/javascript" src="/js/lib/pure.js" ></script>
  <script type="text/javascript" src="/js/lib/underscore.js" ></script>
  <script type="text/javascript" src="/js/lib/jade.min.js" ></script>
  <script type="text/javascript" src="jsutil.js" ></script>
  <script type="text/javascript" src="EventEngine.js" ></script>
  <script type="text/javascript" src="EventEngineHttpClient.js" ></script>
  <script type="text/javascript" src="GameClient.js" ></script>
  <script type="text/javascript" src="ChatClient.js" ></script>
  <script type="text/javascript">

  $(document).ready(function() {
      var jade = require('jade');
      var pageRenderer = jade.compile($('#page-view').text());
      
    new EventEngineHttpClient({
      onInitialized: function() {
        var game = new Game();
      }
    });
    
  });
  EventEngine.observeAll(function(event) {
    log('received event:' + event.name + ', data=' + JSON.stringify(event.data));
  });
  </script>
  
<script id="page-view" class="jade" type="text/jade">
.outer-container
    .sky
    .moon
    .cloud-1
    .cloud-2
    .cloud-3
    #game-container
        .game-controls
            button#restart-game-btn Restart Game (
                span.num-requests 0
                | )
            button#draw-cards-btn Restart Game (
                span.num-requests 0
                | )
            button#end-game-btn Restart Game (
                span.num-requests 0
                | )
    .cards-in-play-container
    form#name-change-form(action="")
        input#name-field(type="text", name="name", value="")
        button#change-name-btn(type="submit") Change Name
    .players-container
    #chat
        form.chat-form
            input.sender(type="hidden")
            input.msg(type="text", placeholder="Chat Away...")
        ul.chat-msgs
    .game-end-overlay-container
    .game-end-overlay(style="display:none;")
        ol.winners
            li.winner.champion
                span.name
                |  wins with 
                span.score
                |  points!
            li.winner.runner-up.first
                span.name
                |  is runner up with
                span.score
                |  points!
            li.winner.runner-up.second
                span.name
                |  is second runner up with 
                span.score
                |  points!
        button.close Close
    #tmp
</script>

<script id="cards-view" class="jade" type="text/jade">
ul.cards(class=this['class'] || '')
    - each card in this.cards
        - var shape = card.attributes[0];
        - var color = card.attributes[1];
        - var shading = card.attributes[2];
        - var number = card.attributes[3];
        - var cls = ['card-object', 'shape'+shape, 'color'+color, 'shading'+shading].join(' ')
        li.card(class=cls, json=JSON.stringify(card))
            - each i in _.range(number+1)
                span(class=cls)
</script>

<script id="players-view" class="jade" type="text/jade">
ul.players
    - each player in this.players
        li.player(class=player.isMe ? 'me' : '', playerid=player.publicId, color=player.color)
            .background
            span.name= player.name
</script>

<script id="balloon-view" class="jade" type="text/jade">
.balloon(playerid=this.publicId, score=this.score, color=this.color)
    .background
    .name= this.name
</script>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-13105739-3']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
  
</head>
<body>
 <div class="background-container">
  <div class="sky"></div>
  <div class="moon"></div>
  <div class="cloud-1"></div>
  <div class="cloud-2"></div>
  <div class="cloud-3"></div>
  <div class="outer-container">
  <div class="balloons"></div>
  <h1><img src="/images/logo.png" alt="Tttrio - A fast real-time multiplayer pattern-matching game to hone your logical skills" ></h1>
  <div id="game-container">
    <div class="game-controls">
      <button id="restart-game-btn">Restart Game (<span class="num-requests">0</span>)</button>
      <button id="draw-cards-btn">Draw Cards (<span class="num-requests">0</span>)</button>
      <button id="end-game-btn" style="display:none">End Game (<span class="num-requests">0</span>)</button>
    </div>
    <div class="cards-in-play"></div>
    <div class="players-container"></div>
  </div>
  <div id="chat">
    <form class="chat-form">
      <input type="hidden" class="sender" />
      <label>Chat: </label>
      <input type="text" class="msg" placeholder="Start typing here..." />
    </form>
    <ul class="chat-msgs">
    </ul>
  </div>
  </div>
  <div class="game-end-overlay-container">
    <div class="game-end-overlay" style="display:none;" >
      <ol class="winners">
        <li class="winner champion"><span class="name"></span> wins with <span class="score"></span> points!</li>
        <li class="winner runner-up first"><span class="name"></span> is runner up with <span class="score"></span> points!</li>
        <li class="winner runner-up second"><span class="name"></span> is second runner up with <span class="score"></span> points!</li>
      </ol>
      <button class="close">Close</button>
    </div>
  </div>
  <div class="name-form-overlay-container">
    <div class="name-form-overlay">
      <h3><img src="/images/logo.png" alt="Tttrio - A fast real-time multiplayer pattern-matching game to hone your logical skills"></h3>
      <h4>A fast real-time multiplayer pattern-matching game to hone your logical skills</h4>
      <form id="name-change-form" action="" >
        <label for="name-field">Name</label><input type="text" id="name-field" name="name" value="" placeholder="Enter Name" ><br>
        <button type="submit" id="change-name-btn" >Enter</button>
      </form>
    </div>
  </div>
 </div>
</body>
</html>
